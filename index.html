Feature: Deposit Account Recent Transactions

  Scenario: Deposit account recent transactions success for retail deposit account
    Given I am a small business retail deposit account holder
    When I check my recent transactions
    Then I am able to see my posted transactions

    Feature: Money Market Account Transactions

    Scenario: Deposit account recent transactions success for money market account
      Given I am a money market account holder
      When I view my recent transactions
      Then I am able to see my money market transactions

      
      Feature: Deposit account recent transactions

  Scenario: Deposit account recent transactions success for profile deposit account
    Given I am a small business profile deposit account holder
    When I navigate to recent transactions page
    Then I should see my posted transactions displayed

stepdefinition 1


package StepDefinitions;

import io.cucumber.java.en.*;
import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.Assert;

public class DepositTransactionsSteps {

    private Response response;
    private final String BASE_URL = "https://yourbankapi.com";
    private final String accountId = "12345"; // Sample retail deposit account ID

    @Given("I am a small business retail deposit account holder")
    public void i_am_a_small_business_retail_deposit_account_holder() {
        // In a real test, you might fetch user data from a database or mock it
        System.out.println("User is a small business retail deposit account holder with ID: " + accountId);
    }

    @When("I check my recent transactions")
    public void i_check_my_recent_transactions() {
        response = RestAssured
                .given()
                .header("Authorization", "Bearer yourAuthTokenHere") // Replace with a valid token
                .when()
                .get(BASE_URL + "/api/v1/accounts/" + accountId + "/transactions");
    }

    @Then("I am able to see my posted transactions")
    public void i_am_able_to_see_my_posted_transactions() {
        // Verify response status code
        Assert.assertEquals(200, response.getStatusCode());

        // Verify transactions are posted
        boolean allPosted = response.jsonPath().getList("transactions.status").stream()
                .allMatch(status -> status.equals("Posted"));

        Assert.assertTrue("All transactions should be posted", allPosted);

        System.out.println("Test Passed: User can see posted transactions.");
    }
}


stepdefinition 2


package StepDefinitions;

import io.cucumber.java.en.*;
import org.junit.Assert;
import java.util.List;
import java.util.Arrays;

public class MoneyMarketAccountSteps {

    private boolean isMoneyMarketAccountHolder;
    private List<String> recentTransactions;

    @Given("I am a money market account holder")
    public void iAmAMoneyMarketAccountHolder() {
        isMoneyMarketAccountHolder = true;  // Assume user is a money market account holder
    }

    @When("I view my recent transactions")
    public void I_view_my_recent_transactions() {
        if (isMoneyMarketAccountHolder) {
            // Mocking transactions; In real cases, fetch from DB or API
            recentTransactions = Arrays.asList("Deposit $1000", "Withdrawal $500", "Interest $20");
        }
    }

    @Then("I am able to see my money market transactions")
    public void i_am_able_to_see_my_money_market_transactions() {
        Assert.assertNotNull("Transactions should not be null", recentTransactions);
        Assert.assertFalse("Transactions list should not be empty", recentTransactions.isEmpty());

        System.out.println("Recent Transactions: " + recentTransactions);
    }
}

stepdefinition 3

package StepDefinitions;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.When;
import io.cucumber.java.en.Then;
import org.junit.jupiter.api.Assertions;
import java.util.List;

public class RecentTransactionsSteps {

    private List<String> recentTransactions;
    private boolean transactionsVisible = false;

    @Given("I am a small business profile deposit account holder")
    public void iAmASmallBusinessProfileDepositAccountHolder() {
        System.out.println("User is identified as a small business profile deposit account holder.");
    }

    @When("I navigate to recent transactions page")
    public void iNavigateToRecentTransactionsPage() {
        // Simulating navigation to recent transactions page
        recentTransactions = List.of("Transaction 1", "Transaction 2", "Transaction 3");
        transactionsVisible = true;
        System.out.println("Navigated to the recent transactions page.");
    }

    @Then("I should see my posted transactions displayed")
    public void iShouldSeeMyPostedTransactionsDisplayed() {
        Assertions.assertTrue(transactionsVisible, "Transactions should be visible on the recent transactions page.");
        Assertions.assertNotNull(recentTransactions, "Transaction list should not be null.");
        Assertions.assertFalse(recentTransactions.isEmpty(), "Transaction list should not be empty.");
        System.out.println("Posted transactions are correctly displayed.");
    }
}


runner 

package runners;

import io.cucumber.junit.Cucumber;
import io.cucumber.junit.CucumberOptions;
import org.junit.runner.RunWith;

@RunWith(Cucumber.class)
@CucumberOptions(
        features = "src/test/java/features",
        glue = "stepDefinitions",
        plugin = {"pretty", "html:target/cucumber-reports.html"},
        monochrome = true
)
public class TestRunner {
}